<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1b19 on Sun, 02 Oct 2022 15:29:42 GMT -->
<opml version="2.0">
	<head>
		<title>nodeEditor: uploadFolderToGithub</title>
		<dateCreated>Sun, 02 Oct 2022 15:16:26 GMT</dateCreated>
		<dateModified>Sun, 02 Oct 2022 15:29:42 GMT</dateModified>
		<ownerName>Dave Winer</ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 6</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>141</windowTop>
		<windowLeft>183</windowLeft>
		<windowBottom>915</windowBottom>
		<windowRight>1397</windowRight>
		</head>
	<body>
		<outline text="/scripting.com/code/uploadfoldertogithub/" created="Sun, 24 Jul 2022 20:12:05 GMT">
			<outline text="package.json">
				<outline text="{">
					<outline text="&quot;name&quot;: &quot;uploadfoldertogithub&quot;,"/>
					<outline text="&quot;description&quot;: &quot;Upload the contents of a local folder to a folder on GitHub.&quot;,"/>
					<outline text="&quot;author&quot;: &quot;Dave Winer &lt;dave@scripting.com&gt;&quot;,"/>
					<outline text="&quot;main&quot;: &quot;uploadfolder.js&quot;,"/>
					<outline text="&quot;license&quot;: &quot;MIT&quot;,"/>
					<outline text="&quot;version&quot;: &quot;0.4.0&quot;,"/>
					<outline text="&quot;dependencies&quot; : {">
						<outline text="&quot;daveutils&quot;: &quot;*&quot;,"/>
						<outline text="&quot;davefilesystem&quot;: &quot;*&quot;," created="Sun, 02 Oct 2022 13:13:35 GMT"/>
						<outline text="&quot;davegithub&quot;: &quot;*&quot;"/>
						<outline text="} "/>
						</outline>
					<outline text="}"/>
					</outline>
				</outline>
			<outline text="uploadfolder.js">
				<outline text="var myProductName = &quot;uploadfoldertogithub&quot;; myVersion = &quot;0.4.0&quot;;    "/>
				<outline text="" created="Sat, 01 Oct 2022 15:06:26 GMT"/>
				<outline text="const fs = require (&quot;fs&quot;);" created="Sat, 05 Mar 2022 17:19:07 GMT"/>
				<outline text="const utils = require (&quot;daveutils&quot;); "/>
				<outline text="const request = require (&quot;request&quot;);" created="Sat, 05 Mar 2022 17:19:07 GMT"/>
				<outline text="const davegithub = require (&quot;davegithub&quot;); "/>
				<outline text="const filesystem = require (&quot;davefilesystem&quot;);"/>
				<outline text="" created="Sat, 01 Oct 2022 14:58:48 GMT"/>
				<outline text="function uploadToGithub (path, data, type, callback) {">
					<outline text="const options = {">
						<outline text="flUseQueue: true,"/>
						<outline text="username: config.githubBackup.username,"/>
						<outline text="repo: config.githubBackup.repo,"/>
						<outline text="password: config.githubBackup.password,"/>
						<outline text="repoPath: config.githubBackup.basepath + path,"/>
						<outline text="data: data.toString (),"/>
						<outline text="type: (type === undefined) ? &quot;text/plain&quot; : type,"/>
						<outline text="committer: config.githubBackup.committer,"/>
						<outline text="message: config.githubBackup.message,"/>
						<outline text="userAgent: myProductName + &quot; v&quot; + myVersion"/>
						<outline text="};"/>
						</outline>
					<outline text="davegithub.uploadFile (options, function (err, response, body) {">
						<outline text="console.log (&quot;uploadToGithub: path == &quot; + options.username + &quot;/&quot; + options.repo + &quot;/&quot; + options.repoPath + &quot;, status == &quot; + response.statusCode);"/>
						<outline text="if (callback !== undefined) {">
							<outline text="callback ();"/>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="}"/>
					</outline>
				<outline text="" created="Sat, 01 Oct 2022 15:05:02 GMT"/>
				<outline text="" created="Sun, 02 Oct 2022 13:10:40 GMT"/>
				<outline text="function uploadFolder (folderpath, callback) {" created="Sun, 02 Oct 2022 13:10:40 GMT">
					<outline text="var folderpath = &quot;../scripting.com-code-feedland-server/data/backups/&quot;;" isComment="true" created="Sun, 02 Oct 2022 13:10:45 GMT"/>
					<outline text="function processFile (f) {">
						<outline text="fs.readFile (f, function (err, filetext) {">
							<outline text="if (err) {">
								<outline text="console.log (&quot;processFile: f == &quot; + f + &quot;, err.message == &quot; + err.message);"/>
								<outline text="}"/>
								</outline>
							<outline text="else {">
								<outline text="var relpath = utils.stringDelete (f, 1,  folderpath.length);" created="Sun, 02 Oct 2022 13:15:08 GMT"/>
								<outline text="uploadToGithub (relpath, filetext, &quot;application/json&quot;, function (err) {" created="Sat, 01 Oct 2022 15:05:16 GMT">
									<outline text="console.log (relpath);" isComment="true"/>
									<outline text="});" created="Sat, 01 Oct 2022 15:07:58 GMT"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="});"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="filesystem.recursivelyVisitFiles (folderpath, function (f) {">
						<outline text="if (f === undefined) {">
							<outline text="callback ();"/>
							<outline text="}"/>
							</outline>
						<outline text="else {">
							<outline text="if (utils.endsWith (f, &quot;.json&quot;)) {">
								<outline text="processFile (f);"/>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="}" created="Sun, 02 Oct 2022 13:10:46 GMT"/>
					</outline>
				<outline text="" created="Sun, 02 Oct 2022 13:10:40 GMT"/>
				<outline text="fs.readFile (&quot;config.json&quot;, function (err, jsontext) {" created="Sat, 01 Oct 2022 14:58:49 GMT">
					<outline text="if (err) {" created="Sat, 01 Oct 2022 14:59:02 GMT">
						<outline text="console.log (err.message);" created="Sat, 01 Oct 2022 14:59:09 GMT"/>
						<outline text="}" created="Sat, 01 Oct 2022 14:59:17 GMT"/>
						</outline>
					<outline text="else {" created="Sat, 01 Oct 2022 14:59:18 GMT">
						<outline text="config = JSON.parse (jsontext);" created="Sat, 01 Oct 2022 14:59:32 GMT"/>
						<outline text="console.log (&quot;config == &quot; + utils.jsonStringify (config));" created="Sat, 01 Oct 2022 14:59:51 GMT"/>
						<outline text="uploadFolder (config.folderToUpload, function () { " created="Sun, 02 Oct 2022 13:10:28 GMT">
							<outline text="console.log (&quot;queue is loaded up&quot;);" created="Sun, 02 Oct 2022 13:12:37 GMT"/>
							<outline text="});" created="Sun, 02 Oct 2022 13:12:31 GMT"/>
							</outline>
						<outline text="}" created="Sat, 01 Oct 2022 14:59:19 GMT"/>
						</outline>
					<outline text="});" created="Sat, 01 Oct 2022 14:59:01 GMT"/>
					</outline>
				</outline>
			<outline text="config.json" created="Sat, 01 Oct 2022 15:00:05 GMT">
				<outline text="{">
					<outline text="&quot;folderToUpload&quot;: &quot;data/backups/&quot;,"/>
					<outline text="&quot;githubBackup&quot;: {">
						<outline text="&quot;enabled&quot;: true,"/>
						<outline text="&quot;username&quot;: &quot;bullmancuso&quot;,"/>
						<outline text="&quot;repo&quot;: &quot;myfiles&quot;,"/>
						<outline text="&quot;basepath&quot;: &quot;backups/&quot;,"/>
						<outline text="&quot;password&quot;: &quot;lotsaluck&quot;,"/>
						<outline text="&quot;committer&quot;: {">
							<outline text="&quot;name&quot;: &quot;Bull Mancuso&quot;,"/>
							<outline text="&quot;email&quot;: &quot;bullmancuso@gmail.com&quot;"/>
							<outline text="},"/>
							</outline>
						<outline text="&quot;message&quot;: &quot;.&quot;"/>
						<outline text="}"/>
						</outline>
					<outline text="}"/>
					</outline>
				</outline>
			<outline text="readme.md" created="Sun, 02 Oct 2022 15:18:34 GMT">
				<outline text="# uploadfoldertogithub" created="Sun, 02 Oct 2022 15:18:37 GMT">
					<outline text="An example app for the &lt;a href=&quot;https://www.npmjs.com/package/davegithub&quot;&gt;davegithub&lt;/a&gt; package for Node.js." created="Sun, 02 Oct 2022 15:18:44 GMT"/>
					</outline>
				</outline>
			</outline>
		<outline text="build script" created="Sun, 02 Oct 2022 15:20:12 GMT">
			<outline text="nodeEditorSuite.utilities.buildUploadToGitHub ()" created="Sun, 02 Oct 2022 15:20:15 GMT"/>
			</outline>
		</body>
	</opml>
